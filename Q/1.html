<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>[编程题]找出直系亲属</title>
    <link rel="stylesheet" href="../css/meditor.css">
    <base href="https://kscript.github.io/exam/">
    <base href="https://www.nowcoder.com/questionTerminal/">
    <base href="https://static.nowcoder.com/">
</head>
<body>
<div class="page">
<div class="question">

<div class="nk-content">
<div class="subject-box">
<div class="subject-title">
[编程题]找出直系亲属
</div>
<div class="subject-main">
<div class="subject-des">
    如果A，B是C的父母亲，则A，B是C的parent，C是A，B的child，如果A，B是C的（外）祖父，祖母，则A，B是C的grandparent，C是A，B的grandchild，如果A，B是C的（外）曾祖父，曾祖母，则A，B是C的great-grandparent，C是A，B的great-grandchild，之后再多一辈，则在关系上加一个great-。
<br/>
<h5><b>输入描述:</b></h5>
<pre>&nbsp;&nbsp;&nbsp; 输入包含多组测试用例,每组用例首先包含2个整数n（0&lt;=n&lt;=26）和m（0&lt;m&lt;50）, 分别表示有n个亲属关系和m个问题, 然后接下来是n行的形式如ABC的字符串，表示A的父母亲分别是B和C，如果A的父母亲信息不全，则用-代替，例如A-C,再然后是m行形式如FA的字符串,表示询问F和A的关系。<br/>&nbsp;&nbsp;&nbsp; 当n和m为0时结束输入。</pre>
<br/>
<br/>
<h5><b>输出描述:</b></h5>
<pre>&nbsp;&nbsp;&nbsp; 如果询问的2个人是直系亲属，请按题目描述输出2者的关系，如果没有直系关系，请输出-。<br/>&nbsp;&nbsp;&nbsp; 具体含义和输出格式参见样例.</pre>

<br/>
<h5><b>输入例子:</b></h5>
<pre>3 2<br/>ABC<br/>CDE<br/>EFG<br/>FA<br/>BE<br/>0 0<br/></pre>
<br/>
<h5><b>输出例子:</b></h5>
<pre>great-grandparent<br/>-<br/></pre>
</div>
<div id="codeEditor" style="display:none">
<div id="subjectMain"></div>
<div class="subject-info" style="display:none">
<div class="alert alert-danger" id="subjectInfo"></div>
</div>
<br/>
<div class="subject-action clearfix">
<button class="btn btn-run run-code">提交运行</button>
<a href="/courses/1" target="_blank" class="link-green video-explain">
<i class="fui-video"></i>
算法知识视频讲解
</a>
</div>
</div>
<div class="subject-action clearfix">
<ul class="oprt-tool clearfix">
<li>
<a href="javascript:void(0);" class="js-click-note oprt-item icon-notes nc-req-auth">
添加笔记
</a>
</li>
<li>
<a data-type="asking" data-count="0"
class="js-click-ask oprt-item oprt-ask nc-req-auth"
href="javascript:void(0);">求解答(0)</a>
</li>
<li>
<a class="click-invite oprt-item oprt-invite nc-req-auth nc-req-active" click-invite
href="javascript:void(0);">邀请回答</a></li>
<li>
<a class="oprt-item oprt-collect click-follow nc-req-auth"
href="javascript:void(0);">收藏</a>
</li>
<li class="oprt-item-share">
<a class="oprt-item oprt-share" href="javascript:void(0);">分享</a>
<div class="tooltip top">
<div class="tooltip-arrow"></div>
<div class="tooltip-inner">
<span class="q-share-to">
<a target="_blank"
href="/share?from=question&to=weibo&id=2c958d09d29f46798696f15ae7c9703b"
class="share-wb"></a>
<a target="_blank"
href="/share?from=question&to=qq&id=2c958d09d29f46798696f15ae7c9703b"
class="share-tx"></a>
<a target="_blank" style="display:inline-block; margin-right: 10px; width:26px;height:23px; background: url(//static.nowcoder.com//images/img/icon-wx.png) 0 0 no-repeat;"
href="javascript:void(0)"
class="share-wx"></a>
</span>
</div>
</div>
</li>
<li><a href="javascript:void(0);"
class="oprt-item oprt-error click-correction"
href="javascript:void(0);">纠错</a></li>
<li><a class="oprt-item oprt-help" href="javascript:void(0);">提交结果有问题?</a></li>
</ul>
</div>
<div class="subject-menu">
</div>
</div>
<div class="decorate-foot"></div>
</div>
<div class="module-box" id="firstCommentModule" style="display:none;"></div>
<div class="module-box js-discussion">
<div class="module-head clearfix">
<h1>1个回答</h1>
<a class="btn btn-primary float-right nc-req-auth"
href="/questionTerminal/2c958d09d29f46798696f15ae7c9703b?toCommentId=407334">
<i class="ico-submit"></i>
修改回答
</a>
</div>
<div class="module-body answer-mod" id="jsComment">
<ul class="answer-list" id="jsCommentList">
<li class="answer-list-item clearfix">
<div class="votebar">
<button class="js-click-like up" aria-pressed="false"
title="赞同"><i class="vote-arrow"></i><span
class="count">0</span></button>
<button class="js-click-dislike down" aria-pressed="true"
title="反对"><i class="vote-arrow"></i>
</button>
</div>
<div class="answer-content clearfix" data-cmt-id="407334"
data-dislikecnt="0"
data-isdisliked="$dislikeName" data-recommend="0">
<div class="answer-info">
<div class="tags-box">
<a href="/questionTerminal/2c958d09d29f46798696f15ae7c9703b?orderByHotValue=0&commentTags=JavaScript" class="tag-label">JavaScript</a>
</div>
<a href="/profile/9121687" class="answer-head"><img
src="https://images.nowcoder.com/images/20170220/9121687_1487584283190_7C2C60506876716CCF0E706DB13D4511@0e_100w_100h_0c_1i_1o_90Q_1x" alt="路人1头像"></a>
<a class="answer-name level-color-7" href="/profile/9121687" title="">路人1</a>
</div>
<div class="answer-brief">
<pre class="prettyprint lang-js">var readline = require('readline');
const rl = readline.createInterface({
        input: process.stdin,
        output: process.stdout
});
var line=0;
var tree={};
var res=[];
var m,n;
rl.on('line', function(input){
    if(line==0){
        var info = input.split(&quot; &quot;);
        m=parseInt(info[1]);
        n=parseInt(info[0]);
        m*n==0&amp;&amp;(line=-2);
    }else if(line&lt;=n){
        family(input);
    }else if(line&lt;=m+n){
        res.push(search(input.split(&quot;&quot;)));
        if(line==m+n){
            console.log(res.join(&quot;\n&quot;));
            tree={};
            res=[];
            line=-1;
        }
    }
    line&gt;-2&amp;&amp;(line++);
});

function family(str){
    var ary=str.split(&quot;&quot;);
        tree[ary[0]]=tree[ary[0]]||{name:ary[0]};
    tree[ary[1]]=tree[ary[1]]||{name:ary[1]};
    tree[ary[2]]=tree[ary[2]]||{name:ary[2]};
        tree[ary[1]].child=tree[ary[0]];
        tree[ary[2]].child=tree[ary[0]];
}

function search(ary,type){
    var res=type?&quot;child&quot;:&quot;parent&quot;;
    var count=0;
    var flag=false;
    type=type||0;
    a=tree[ary[type]];
    b=tree[ary[1-type]];
    
    while(a.child){
        count++;
        if(count&gt;1){
            res=(count==2?&quot;grand&quot;:&quot;great-&quot;)+res;
        }
        if(b==a.child){
            flag==true;
            return res;
        }
        a=a.child;
    }
    return type?&quot;-&quot;:search(ary,1);
}
</pre>
<div>
  <br>
</div>
<br>
</div>
<div class="answer-legend">
<span class="answer-time">
发表于  今天 15:20:28
</span>
<a class="click-reply"
href="javascript:void(0);">
回复(0)
</a>
<a class="click-edit"
href="javascript:void(0);">修改</a>
<a class="click-del"
href="javascript:void(0);">删除</a>
</div>
</div>
</li>
</ul>
<div id="commentNone" class="blank-box" style="display:none;">
<div class="blank-img"><img
src="//static.nowcoder.com/images/sofa.png">
</div>
<p>这道题你会答吗？花几分钟告诉大家答案吧！</p>
</div>
</div>
</div>
<div class="module-box">
<div class="module-body answered-tip-white">
这道题你已经答过了，可以对
<a href="/questionTerminal/2c958d09d29f46798696f15ae7c9703b?toCommentId=407334">现有的回答</a>
进行修改
</div>
</div>
</div>

</div>
</div>
<script>page.id=1</script>
<script src="../js/page.js"></script>
</body>
</html>